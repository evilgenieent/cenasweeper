<template>

  <div>
    X: <input type="text" value.bind="x"><br>
    Y: <input type="text" value.bind="y"><br>
    Mines: <input type="text" value.bind="minesCount"><br>
    <button click.delegate="init()">Refresh</button>
  </div>

  <hr>
  
  <div if.bind="displayGif" class="cs-gif">
    <img src="${winner ? 'images/jc_win.gif' : 'images/jc_lose.gif'}" alt="John Cena everyone!">
  </div>

  
  <div if.bind="!displayGif">

    <table>

      <tbody>

        <tr repeat.for="[x, column] of board">

          <td repeat.for="[y, field] of column" css="color: ${field.cena ? 'red' : 'black'};">
            <div
              class="cs-field
                ${field.visited ? 'cs-visited' : ''}
                ${field.mines === 0 ? 'cs-empty' : ''}
                ${field.flagged || field.questioned ? 'cs-flagged' : ''}
                ${field.cena ? 'cs-cena' : ''}"
              click.delegate="click($event, x, y)">
              <!--${field.mines !== 0 ? field.mines : ''}-->
              ${field.mines} ${field.questioned ? '?' : ''}
              <img if.bind="field.cena && field.visited" src="images/john_cena.png" alt="John Cena, out of nowhere!">
            </div>
          </td>

        </tr>

      </tbody>

    </table>

  </div>

</template>